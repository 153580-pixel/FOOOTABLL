// ===========================
// Receivers
// ===========================
const receiver1 = new THREE.Mesh(new THREE.BoxGeometry(1, 2, 1), new THREE.MeshStandardMaterial({color: 0x0000ff}));
receiver1.position.set(5,1,20);
scene.add(receiver1);

const receiver2 = new THREE.Mesh(new THREE.BoxGeometry(1, 2, 1), new THREE.MeshStandardMaterial({color: 0x0000ff}));
receiver2.position.set(-5,1,20);
scene.add(receiver2);

const receiver3 = new THREE.Mesh(new THREE.BoxGeometry(1, 2, 1), new THREE.MeshStandardMaterial({color: 0x0000ff}));
receiver3.position.set(0,1,22);
scene.add(receiver3);

// ===========================
// Receiver Routes
// ===========================
const receivers = [
    {mesh: receiver1, route:[new THREE.Vector3(5,1,20), new THREE.Vector3(10,1,40), new THREE.Vector3(15,1,50)], index:0},
    {mesh: receiver2, route:[new THREE.Vector3(-5,1,20), new THREE.Vector3(-10,1,40), new THREE.Vector3(-15,1,50)], index:0},
    {mesh: receiver3, route:[new THREE.Vector3(0,1,22), new THREE.Vector3(0,1,45), new THREE.Vector3(0,1,60)], index:0}
];

// Move receivers along their routes
function moveReceivers(){
    receivers.forEach(r => {
        const target = r.route[r.index];
        const dir = target.clone().sub(r.mesh.position);
        if(dir.length()>0.1){
            r.mesh.position.add(dir.normalize().multiplyScalar(0.2));
        } else {
            r.index = (r.index + 1) % r.route.length;
        }
    });
}
